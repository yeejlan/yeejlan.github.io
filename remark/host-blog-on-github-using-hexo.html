<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Host Blog on Github via Hexo</title>
    <link rel="stylesheet" href="/css/remark.css" media="screen">
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse
# Host blog on github


```   


```   

## via Hexo

```



Louis Yu
2014.7.10
```
---
class: inverse
## Conception
### 
- [Github pages](https://pages.github.com/)

```bash
    Hosted directly from your GitHub repository. Just edit, push, and 
    your changes are live.
```
- [Hexo](http://hexo.io/)

```bash
    A fast, simple & powerful blog framework, powered by Node.js
```
---
class: inverse
## Create github pages
### 

- Create repository "username.github.io"

```bash
    git clone https://github.com/yeejlan/yeejlan.github.io

    cd yeejlan.github.io
    echo "Hello World" > index.html

    git add --all
    git commit -m "Initial commit"

    git push
```
- Browse to https://yeejlan.github.io

---
class: inverse
## Install Hexo
### 

- Install Node.js

    [http://www.nodejs.org/](http://www.nodejs.org/)

- Install Git

    [http://git-scm.com/](http://git-scm.com/)    

- Install Hexo

```http
    npm install hexo -g
```
---
class: inverse
## Create Blog Folder
### 

```bash
hexo init E:/blog
cd E:/blog
npm install
```

- It looks like
```html
.
├── _config.yml
├── package.json
├── .deploy
├── node_modules
├── public
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
├── themes
└── .gitignore
```
---
class: inverse
## Hexo configuration

```config
title: Yee's 部落格
author: Yu Fang
url: https://yeejlan.github.com

# Writing
new_post_name: :year-:month-:day-:title.md # File name of new posts
highlight:
  enable: true
  line_number: true

# Server
port: 4000
server_ip: 0.0.0.0

# Disqus
disqus_shortname: yeesblog
theme: strict

# Deployment
deploy:
  type: github
  repository: origin https://github.com/yeejlan/yeejlan.github.io.git
  branch: master

```
---
class: inverse
##Create a New Post
### 

```bash
E:\blog>hexo new "my first post"
[info] File created at E:\blog\source\_posts\2014-07-10-my-first-post.md
```
- Content of 2014-07-10-my-first-post.md
```
title: 'my first post'
date: 2014-07-10 09:06:04
tags:
```
- What's markdown

    [Markdown basics](https://help.github.com/articles/markdown-basics)

    [Mastering markdown](https://guides.github.com/features/mastering-markdown/)

- Markdown editor

    [markdownpad](http://www.markdownpad.com/)

    [StackEdit](https://stackedit.io)

---
class: inverse
## Preview a post
### 

- Recall _config.yml configuration

```config
  # Server
  port: 4000
  server_ip: 0.0.0.0
```
```bash
  E:\blog>hexo server
  [info] Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.
```

- Browse to http://localhost:4000/ and change your post

```
  [update] E:\blog\source\remark\host-blog-on-github-using-hexo.html
  [update] E:\blog\source\remark\host-blog-on-github-using-hexo.html
  ...
```

---
class: inverse
## Generate static pages and publish
### 

- Generate static pages

```
% grep fooo /var/log/auth.log

% ^o

% grep foo /var/log/auth.log
```
---
class: inverse
## 人非圣贤，孰能无过?
### 

- 使用 ^old^new 换掉输错或输少的部分

```
% cat myflie

% ^li^il

% cat myfile

% ansible vod -m command -a 'uptim'

% ^im^ime

% ansible vod -m command -a 'uptime'
```
---
class: inverse
## 人非圣贤，孰能无过?
### 

- 使用 !:gs/old/new 将 old 全部换成 new

```
% ansible nginx -m command -a 'which nginx'

% !:gs/nginx/squid

% ansible squid -m command -a 'which squid'

% ^nginx^squid^:G # zsh
```
---
class: inverse
## 人非圣贤，孰能无过?
### 

#### 要记住的是：

- 一删

- 二换

- 三全变
---
class: inverse
## 忘记历史，就是背叛。
### 

- 了解历史记录的大小

```
% echo $HISTSIZE
1000
```

- 历史记录的保存位置

```
% echo $HISTFILE
/home/xiaodong/.zhistory
```

- 历史记录的保存大小

```
% echo $HISTFILESIZE # bash
1000

% echo $SAVEHIST     # zsh
1000
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 查看历史

```
% history

% history | less

1  hist
2  ./code/gs/update_system.pl -n
3  emerge -C chromium
4  emerge @preserved-rebuild
5* df -h
......

% history 5

% history | grep string
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 Ctrl + r 逆向搜索历史命令

```
% 
(reverse-i-search)`h': history 5

```

- 使用 Ctrl + p 访问上一条命令

```
% history 5
[Ctrl + p]
```

- 使用 Ctrl + n 访问下一条命令

```
% 
[Ctrl + n]
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !! 执行上一条命令

```
% !!

% sudo !!

% apt-get install figlet
E: Could not open lock file /var/lib/dpkg/lock - open (13: Permission denied)
E: Unable to lock the administration directory (/var/lib/dpkg/), are you root?

% sudo !!
sudo apt-get install figlet
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !foo 执行以 foo 开头的命令

```
% !his
history
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !?foo 执行包含 foo 的命令

```
% !?is
echo $histchars
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !n 执行第 n 个命令

```
% !10
vim lib/TunePage.pm
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !-n 执行倒数第 n 个命令

```
% !-2
htop

% !-1 == !!
```

- Tip: 给命令提示符中增加历史命令编号

```
% export PS1='!\! \u@\h:\w\$ '
!998 xiaodong@codetoy:~$
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 使用 !# 引用当前行

```
% cp filename filename.old

% cp filename !#:1.old
```
---
class: inverse
## 忘记历史，就是背叛。
### 

#### 关于历史引用，要记住的是：

- !!

- ![?]字符串

- ![-]数字

- !#
---
class: inverse
## 忘记历史，就是背叛。
### 

- 历史命令 Word 选取图

![history words](img/hist-word.png)
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !$ 得到上一条命令的最后一位参数

```
% mkdir videos

% cd !$

% 
[Alt + .]
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !^ 得到上一条命令的第一个参数

```
% ls /usr/share/doc /usr/share/man

% cd !^

%
[Ctrl + Alt + y]
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !:n 得到上一条命令第 n 个参数

```
% touch foo.txt bar.txt baz.txt

% vim !:2
vim bar.txt
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !:x-y 得到上一条命令从 x 到 y 的参数

```
% touch foo.txt bar.txt baz.txt

% vim !:1-2 
vim foo.txt bar.txt
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !:n* 得到上一条命令从 n 开始到最后的参数

```
% cat /etc/resolv.conf /etc/hosts /etc/hostname

% vim !:2*
vim /etc/hosts /etc/hostname
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 通过 !* 得到上一条命令的所有参数

```
% ls code src

% cp -r !*
```
---
class: inverse
## 忘记历史，就是背叛。
### 

#### 关于 Word 选取，要记住的是：

- n

- ^|$

- [n]*

- x-y

```
% !an:$

% !10:2-4

% !{an}2
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :h 选取路径开头

```
% ls /usr/share/fonts/truetype

% cd !$:h
cd /usr/share/fonts
```

- 相当于 dirname
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :t 选取路径结尾

```
% wget http://nginx.org/download/nginx-1.4.7.tar.gz

% tar zxvf !$:t
tar zxvf nginx-1.4.7.tar.gz
```

- 相当于 basename
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :r 选取文件名

```
% unzip filename.zip

% cd !$:r
cd filename
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :e 选取扩展名

```
% echo abc.jpg

% echo !$:e
echo .jpg # bash
.jpg
echo jpg  # zsh
jpg
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :p 打印命令行

```
% echo *
README.md css img index.html js

% !:p
echo *
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :s 做替换

```
% echo this that

% !:s/is/e
echo the that

```

- 惯用法: ^is^e
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :g 做全局操作

```
% echo abcd abef

% !:gs/ab/cd
echo cdcd cdef
cdcd cdef
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :u 将其更改为大写 (zsh)

```
% echo $histchars

% echo !$:u
echo $HISTCHARS
```
---
class: inverse
## 忘记历史，就是背叛。
### 

- 利用 :l 将其更改为小写 (zsh)

```
% echo !$:l
echo $histchars
```
---
class: inverse
## 忘记历史，就是背叛。
### 

#### 关于修饰符，要记住的是：

- h|t

- r|e

- p

- s

- g

- u|l

```
% ls /usr/share/fonts/opentype

% echo !$:t:u
echo OPENTYPE
```

---
class: inverse
## 忘记历史，就是背叛。
### 

- 历史展开模式

![History](img/hist.png)
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 alias -s 定义后缀别名 (zsh)

```
% alias -s pl=perl

% script.pl
perl script.pl

% alias -s pdf=zathura

% vimbook.pdf
zathura vimbook.pdf
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 {} 构造字符串

```
% cp file.c file.c.bak

% cp file.c{,.bak}

% echo cp file.c{,.bak}

% vim {a,b,c}file.c
vim afile.c bfile.c cfile.c

% vim [abc]file.c  # ?

% vim {a..c}file.c # bash

% setopt braceccl  # zsh

% vim {a-c}file.c  # zsh
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 {} 构造字符串 (续)

```
% wget http://linuxtoy.org/img/{1..5}.jpg
1.jpg  2.jpg  3.jpg  4.jpg  5.jpg

% touch {01..5}.txt
01.txt  02.txt  03.txt  04.txt  05.txt

% touch {1..10..2}.txt
1.txt  3.txt  5.txt  7.txt  9.txt

% echo {1..10..-2} # zsh
9 7 5 3 1

% echo {9..1..2}   # bash
9 7 5 3 1
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 {} 构造字符串 (续)

```
% mkdir -p 2014/{01..12}/{baby,photo}

% echo {{A..Z},{a..z},{0..9}}
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 \`` 或 $() 做命令替换

```
% grep -l error *.pm # (1)
TunePage.pm

% vim TunePage.pm    # (2)

% vim `grep -l error *.pm`

% vim $(grep -l error *.pm)
```

- 嵌套时，$() 可读性更清晰，而 \`` 则较差

```
% vim $(grep -l failed $(date +'%Y%m%d').log)

% vim `grep -l failed \`date +'%Y%m%d'\`.log`
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用变量保存信息

```
% LOG=/var/log/emerge.log

% head $LOG

% grep -i compiling $LOG
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 for ... in 重复执行命令

```
% figlet -f font-type-1 Linux # (1)
% figlet -f font-type-2 Linux # (2)
% figlet -f font-type-3 Linux # (3)
% ...

% cd /usr/share/figlet
% for font in *.flf
> do
>   echo $font
>   figlet -f $font Linux
> done

% for font in *.flf; do echo $font; figlet -f $font Linux; done
```
---
class: inverse
## 常备锦囊，内藏妙计。
### 

- 使用 for ... in 重复执行命令 (续)

```
% for dev in /dev/sd{a..d}
> do
>   hdparm -t $dev
> done
```
---
class: inverse
## 重要原则
### 

- Type less, accomplish more (少打多做)

- DRY, don't repeat yourself (不要重复你自己)

- Care about your tool (关心你的工具)
---
class: inverse
## 本讲之外
### 

- Tab 补全

- 使用通配符 (* ? [a-z] [0-9])

- 用快捷键编辑命令行

- 字符串处理

- 复合命令 (; &amp;&amp; ||)
---
class: inverse
## 扩展阅读
### 

```
- bash: man history

- zsh: man zshexpn

- Bash Reference Manual: 
  https://www.gnu.org/software/bash/manual/html_node/index.html

- A User's Guide to ZSH:
  http://zsh.sourceforge.net/Guide/zshguide.html

- Book: Unix Power Tools
```
---
class: center, middle, inverse
## Q &amp; A 
---
class: inverse
## 联系方式
### 

```
- Website: http://linuxtoy.org

- Twitter: http://twitter.com/linuxtoy

- GitHub: http://github.com/xuxiaodong

- Gmail: xxdlhy@gmail.com
```
---
class: center, middle, inverse
## 谢谢大家！
---
class: center, middle, inverse
Made in [Remark](http://remarkjs.com)
    </textarea>
    <script src="/js/remark.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
        highlightStyle: 'monokai',
        highlightLanguage: 'php'
      });
    </script>
  </body>
</html>